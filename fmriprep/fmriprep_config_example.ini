# fMRIPrep Configuration File
# 
# This file can be placed in any of these locations (later files override earlier):
# 1. /etc/fmriprep/config.ini (system-wide)
# 2. ~/.config/fmriprep/config.ini (user config)
# 3. ~/.fmriprep.ini (user config alternative)
# 4. ./fmriprep.ini (project-specific)
# 
# Or specify a custom location with --config /path/to/config.ini

[defaults]
# Common fMRIPrep settings
# Uncomment and modify as needed

# Paths (can use ~ for home directory)
# bids = /path/to/bids/dataset
# out = /path/to/output/derivatives/fmriprep
# work = /scratch/username/fmriprep_work

# Container settings
runtime = singularity
# container = /path/to/fmriprep-23.2.0.sif
# container = auto  # Auto-detect from FMRIPREP_SIF_DIR

# FreeSurfer license
# fs_license = /path/to/license.txt

# TemplateFlow directory (for anatomical templates)
# templateflow_home = /project/shared/templateflow
# Or use environment variable: export TEMPLATEFLOW_HOME=/path/to/templateflow

# Processing parameters
# nprocs = 8
# omp_threads = 2
# mem_mb = 32000

# fMRIPrep options
skip_bids_validation = true
# output_spaces = MNI152NLin2009cAsym:res-2 T1w fsnative
# use_aroma = false
# cifti_output = false
# fs_reconall = false
# use_syn_sdc = false

# Extra flags to pass to fMRIPrep
# extra = --stop-on-first-crash --verbose

# Subject selection (space-separated list or 'all')
# subjects = all
# subjects = sub-01 sub-02 sub-03

[slurm]
# SLURM-specific defaults for array job generation

# Job submission parameters
partition = compute
time = 24:00:00
# cpus_per_task = 8
# mem = 32G  # Use 'none' for Trillium cluster
account = rrg-myaccount
# email = user@university.edu
# mail_type = END,FAIL
job_name = fmriprep

# Output directories
# script_outdir = ./fmriprep_job
# log_dir = /scratch/username/logs  # Override for Trillium

# Special settings
# no_mem = true  # For Trillium cluster - omit memory specification
# module_singularity = true  # Add 'module load singularity' to script

# Environment-specific examples:

# [defaults]
# # Example for Compute Canada cluster
# work = /scratch/$USER/fmriprep_work
# container = /project/def-pi/shared/containers/fmriprep-23.2.0.sif
# fs_license = /project/def-pi/shared/freesurfer/license.txt
# 
# [slurm]
# account = def-pi
# partition = compute
# time = 24:00:00
# mem = 32G

# [defaults]
# # Example for Trillium cluster
# work = /scratch/$USER/work
# container = /project/rrg-pi/shared/bin/fmriprep-latest.sif
# fs_license = /project/rrg-pi/shared/bin/license.txt
# 
# [slurm]
# account = rrg-pi
# partition = compute
# time = 12:00:00
# # no_mem = true  # Trillium allocates all node memory
# log_dir = /scratch/$USER/logs